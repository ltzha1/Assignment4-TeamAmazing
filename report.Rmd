---
title: "COVID 19 Report"
author:
- familyname: Zhang
  othernames: Lintian
  address: Monash Universtiy
  email: ltzha1@student.monash.edu
  correspondingauthor: true
  qualifications:  Bachelor of Accounting
- familyname: Widjaya
  othernames: Arthur Andersen
  address: Monash University
  email: awid0001@student,monash.edu
  correnpondingauthor: true
  qualifications: Bachelor of Accounting
- familyname: Wang
  othernames: Hanchen
  address: Monash University
  email: hwan0143@student.monash.edu
  correspondingauthor: true
  qualifications:  Bachelor of Finance
- familyname: Zou
  othernames: Ying
  address: Monash University
  email: yzou0014@student.monash.edu
  correspondingauthor: true
  qualifications: Bachelor of Economics
department: Team Amazing
organization: Australian Government COVID19
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
  always_allow_html: true
header-includes:
 \usepackage{float}
 \floatplacement{figure}{H}
 \floatplacement{table}{H}
---

```{r , echo = FALSE, message = FALSE, warning = FALSE}
# Libraries

library(tidyverse)
library(readr)
library(kableExtra)
library(stargazer)
library(PerformanceAnalytics)
library(tidyverse)
library(bookdown)

```


# Introduction



\section*{Total cases in Australia}

\section*{Recovery}


```{r message=FALSE, warning=FALSE}
rec <- read_csv(here::here("Data/recovery.csv")) 

rec <- rec[1:292,]
```


```{r}
rec_clean <- rec %>% 
  mutate(date = as.Date(date, '%d-%b')) %>% 
  mutate(date = str_replace_all(date, "2021", "2020")) %>% 
  mutate(date = as.Date(date, '%Y-%m-%d')) 

  date <- unique(sort(rec$date))
  rec$date <- factor(rec$date, ordered = T)
  
rec_clean[is.na(rec_clean)] <- 0
```

# Recovery count

```{r}

rec_tidy <-  rec_clean %>% 
  filter(str_detect(date, "-01"))

rec_tab <- rec_tidy  %>% 
  group_by(date) %>% 
  summarise(Recoveries)

```

```{r figrec1, fig.cap = "Recovery number in Australia in 2020", eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
rec_plot <- rec_tab %>%
  ggplot(aes(x = date, y = Recoveries)) + 
  geom_col() + 
  theme_bw() +
  labs(x= "Month", 
       y = "Recovery count", 
       title = "Recovery number in Australia in 2020")

ggplotly(rec_plot)
```
## Analysis 

Figure\@ref(fig:figrec1) shows that the number of recoveries from 2020.3 to 2021.5. It is not hard to find there was a slow climb before 2020.07(248918), after which a double recoveries appeared which is referred to the focus and good care on COVID-19 among countries. Then the number kept constant with some fluctuation.


# Recovery Rate

```{r}
rec_rate_tab <- rec_clean %>% 
  group_by(date) %>% 
  summarise(rec_rate = Recoveries/(Recoveries + `Active Cases`))
  #mutate(Death_rec_ratio = str_replace(Death_rec_ratio, "Inf", "0"))

```

```{r figrec2, fig.cap = "Recovery rate in Australia in 2020", eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
rec_rate_plot <- rec_rate_tab %>%
  ggplot(aes(x = date, y = rec_rate)) + 
  geom_point(alpha = 0.1) + 
  geom_line() + 
  theme_bw() + 
  #scale_x_continuous(breaks=seq(2020.03.)) +
  labs(x= "Month", 
       y = "Recovery rate", 
       title = "Recovery rate in Australia in 2020")

ggplotly(rec_rate_plot)
```
## Analysis

Figure\@ref(fig:figrec2) shows that the total recovery rate had an increase before 2020.6(95%), and a downward trend happened due to the decreasing active cases as well as increasing recoveries. However, the recovery rate continued to climbing from 2020.8(71%) and reached at almost 99% after 2020.11 until now.The main reason that the rate kept increasing steep is that the government did control the virus situation to some extend, the less active cases, the higher rate.

# Recovery-death ratio
```{r}
ratio_tab <- rec_clean %>% 
  group_by(date) %>% 
  summarise(rec_Death_ratio = Recoveries/Deaths)


```

<<<<<<< HEAD
\section*{Transmission sources of daily cases in Australia}
```{r message=FALSE, eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
transmission <- read_csv("Data/National.csv")
```

```{r, eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
transmission <- transmission %>% 
  mutate(date = as.Date(date, '%d-%b'))
```

```{r, eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
transmission_long <- transmission %>% 
  mutate(date = as.Date(date, '%d-%b')) %>% 
  pivot_longer(cols = -date,
             names_to = "source",
             values_to = "Count")
dates <- unique(sort(transmission_long$date)) 
transmission_long$date <- factor(transmission_long$date, ordered = T)
 
```

```{r tra, fig.cap = "Transmission sources of daily cases 20 April 2021 - 18 May 2021", fig.align = 'center', eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
  
c <- ggplot(transmission_long, aes(x = date,
y = Count, fill = source)) +
  geom_col() +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1)) +
expand_limits(x = c(0, NA), y = c(0, NA)) + 
scale_y_continuous(labels = scales::label_number_si())+
  labs(x= "Date", 
       y = "Number of cases")

c
```


The figure \@ref(fig:tra) indicates that the most of transmissions were from overseas. Especially, there were more than 35 cases from overseas recorded and one case was due to the interstate travel in 23 April. Only One case is under investigation which has been recorded in 5 May.

Luckily, there are no more local community spread in Australia from 20 April 2021 to 18 May 2021.


=======
```{r figrec3, fig.cap = "Recovery-Death ratio in Australia in 2020", eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
ratio_plot <- ratio_tab %>%
  ggplot(aes(x = date, y = rec_Death_ratio)) + 
  geom_point(alpha = 0.1) + 
  geom_line() + 
  theme_bw() + 
  labs(x= "Month", 
       y = "Recovery-Death ratio", 
       title = "Recovery-Death ratio in Australia in 2020")

ggplotly(ratio_plot)
```
>>>>>>> Hanchen_Wang


## Analysis

Figure\@ref(fig:figrec3) demonstrates the ratio of total recoveries and total deaths, which it kept zero in the earlier Mar because An early outbreak in March left the recovery rate at zero and the death rate rising. As the ratio continued rising until July(70), then it started dropping which means that as the active cases decreased, the recoveries number became less. 

## Vaccination Rates
```{r}
library(hrbrthemes)
vaccine <- read_csv(here::here("Data/Total doses.csv"))
```

```{r} 
 vaccine_long <- vaccine %>% 
  mutate(date=as.Date(date,'%d-%b'))
dates <- unique(sort(vaccine_long$date))
vaccine_long$date <- factor(vaccine_long$date,ordered=T)
```

```{r FigRefplot, fig.cap = "Vaccination Rates Over Time", warning = FALSE }
  ggplot(vaccine_long,
         aes(x=date,y=`Per 100 people (right axis)`))+
  geom_point(size=2,alpha=0.3,color='#b3699f')+
  ylab("vaccination Rates(per 100 people)")+
  xlab("Date")+
  theme(plot.title = element_text(h = 0.5))+
  scale_color_manual(values = colors)+
    theme_ipsum() + theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1))
```



The graph \@ref(fig:Figplot) shows a general upward trend in vaccination, with the vaccination rate starting to show a faster increase in early April. The vaccination rate grows faster and faster over time. The number of vaccinations reached 12.39% on May 18. The increase in vaccination rates illustrates the importance the government places on the outbreak.



## Vaccination Coverage

```{r FigRefz, fig.align = "center",fig.cap = "Increase in vaccination coverage over time",message=FALSE, warning=FALSE}
ggplot(vaccine_long, 
       aes(x = date,
           y = `Total doses (left axis)`)) +
  geom_col()+
    xlab("Date") +
    ylab("Vaccine") +
    theme_ipsum() + theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1))+ theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1)) 
```


We can see from the graph \@ref(fig:FigRefz) that the number of inoculations continues to grow, from 20 people on February 21 to 3,183,324 people on May 18. The rate of growth has been accelerating since the beginning of April.



